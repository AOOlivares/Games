(this.webpackJsonpnonograms=this.webpackJsonpnonograms||[]).push([[0],{12:function(e,t,n){e.exports=n(24)},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(5),o=n.n(i),c=n(1);n(23),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(2),u="hit",s="X",d="?",m="clear",f="#75daad",p="#ffc299",g="#79d279",v="#ff6363",h=function(e,t){var n="";return t.forEach((function(e,t,r){for(var a=0;a<e;a++)n+=1;(function(e,t){return!Object.is(e.length-1,t)})(r,t)&&(n+=0)})),function e(t,n){if(!n){for(var r="",a=0;a<t;a++)r+="0";return[r]}for(var i=t-n.length+1,o=[],c=function(r){for(var a=n,i=0;i<r;i++)a="0"+a;var c=a.search("10")+1,l=a.slice(0,c),u=a.slice(c);if(a.search("10")>=0){var s=t-l.length;e(s,u).forEach((function(e){o.push(l+e)}))}else{for(;t>u.length;)u+=0;o.push(l+u)}},l=0;l<i;l++)c(l);return o}(e,n)},b=function(e,t){for(var n=[],r=0;r<e;r++){var a=[],i=t(0,a,r);i&&a.push(i),n.push(a)}return n},y=function(e,t){return e.map((function(e){return h(t,e)}))},w=function(e){return e.reduce((function(e,t,n){return"1"===t&&e.push(n),e}),[])},C=function(e,t){return{hitIndex:w(t),crossIndex:(n=e,n.reduce((function(e,t,n){return t.hited&&t.hitType===s&&e.push(n),e}),[]))};var n},E=function(e,t){var n=e.map((function(e){return e.hited&&e.hitType===u?"1":"0"})),r=C(e,n),a=r.hitIndex,i=r.crossIndex,o=parseInt(n.join(""),2);return t.some((function(e){for(var t=parseInt(e,2),n=((t|o)^t).toString(2);e.length>n.length;)n="0"+n;var r=a.every((function(e){return"0"===n[e]})),c=i.every((function(t){return"0"===e[t]}));return!0===r&&!0===c}))},x=function(e){return Array.from(e).map((function(e){return"1"===e?{hitType:u,hited:!0,value:"",color:f}:{hitType:s,hited:!0,value:s,color:p,auto:!0}}))},j={rows:{},columns:{},completed:!1},O=Object(l.b)({name:"validation",initialState:j,reducers:{resetValidation:function(e){return j},setRowsValidation:function(e,t){var n=t.payload,r=n.index,a=n.value;e.rows[r]=a},setColumnsValidation:function(e,t){var n=t.payload,r=n.index,a=n.value;e.columns[r]=a},setPuzzleCompleted:function(e,t){e.completed=t.payload}}}),k=O.actions,z=k.setRowsValidation,T=k.setColumnsValidation,S=k.setPuzzleCompleted,R=k.resetValidation,V=function(e){return e.validation.completed},G=function(e){return e.validation.rows},I=function(e){return e.validation.columns},A=O.reducer,H=function(){return function(e,t){var n=t().game,r=n.puzzle,a=n.game;e(S(M(r,a))),e((function(e,t){var n=t().rows.possibilities;t().game.game.forEach((function(t,r){var a=E(t,n[r]);e(z({index:r,value:a}))}))})),e((function(e,t){var n=t().columns.possibilities,r=t().game.game;P(r,r[0].length).forEach((function(t,r){var a=E(t,n[r]);e(T({index:r,value:a}))}))}))}},P=function(e,t){for(var n=[],r=function(t){n.push(e.map((function(e,n,r){return r[n][t]})))},a=0;a<t;a++)r(a);return n},M=function(e,t){return e.map((function(e,n){return e.map((function(e,r){var a="0";return t[n][r].hited&&t[n][r].hitType===u&&(a="1"),e===a}))})).every((function(e){return e.every((function(e){return!0===e}))}))},W=Object(l.b)({name:"rows",initialState:{values:[[]],possibilities:[[]]},reducers:{setRowsValues:function(e,t){e.values=t.payload},setRowsPossibilities:function(e,t){e.possibilities=t.payload}}}),X=W.actions,F=X.setRowsValues,Y=X.setRowsPossibilities,N=function(e){return e.rows.values},B=function(e){return e.rows.answer},J=W.reducer,D=function(e){return function(t){var n=function(e){return b(e.length,(function(t,n,r){for(var a=0;a<e[0].length;a++)"1"===e[r][a]&&(t++,"1"!==e[r][a+1]&&(n.push(t),t=0));return t}))}(e);t(F(n));var r=y(n,e[0].length);t(Y(r)),r.forEach((function(e,n){if(1===e.length){var r=x(e[0]);t(ae({row:r,index:n}))}}))}},$=Object(l.b)({name:"columns",initialState:{values:[[]],possibilities:[[]]},reducers:{setColumnsValues:function(e,t){e.values=t.payload},setColumnsPossibilities:function(e,t){e.possibilities=t.payload}}}),q=$.actions,K=q.setColumnsValues,L=q.setColumnsPossibilities,Q=function(e){return e.columns.values},U=function(e){return e.columns.answer},Z=$.reducer,_=function(e){return function(t){var n=function(e){return b(e[0].length,(function(t,n,r){for(var a=0;a<e.length;a++)"1"===e[a][r]&&(t++,e[a+1]&&"1"!==e[a+1][r]&&(n.push(t),t=0));return t}))}(e);t(K(n));var r=y(n,e.length);t(L(r)),r.forEach((function(e,n){if(1===e.length){var r=x(e[0]);t(ie({column:r,index:n}))}}))}},ee=Object(l.b)({name:"game",initialState:{puzzle:[["0","0","1"],["1","0","0"],["1","0","0"]],game:[[]]},reducers:{setNewPuzzle:function(e,t){e.puzzle=t.payload},initGame:function(e,t){e.game=t.payload.map((function(e){return e.map((function(){return{hited:!1,color:p,value:""}}))}))},setGameHit:function(e,t){var n=t.payload,r=n.type,a=n.iX,i=n.iY;switch(r){case u:e.game[a][i]={hitType:r,hited:!0,value:"",color:f};break;case s:e.game[a][i]={hitType:r,hited:!0,value:s,color:p};break;case d:e.game[a][i]={hitType:r,hited:!0,value:d,color:f};break;case m:e.game[a][i]={hited:!1,value:"",color:p}}},setAutoCompleteRow:function(e,t){var n=t.payload,r=n.row,a=n.index;e.game[a]=r},setAutoCompleteColumn:function(e,t){var n=t.payload,r=n.column,a=n.index;e.game.forEach((function(t,n){e.game[n][a]=r[n]}))}}}),te=ee.actions,ne=te.initGame,re=te.setGameHit,ae=te.setAutoCompleteRow,ie=te.setAutoCompleteColumn,oe=te.setNewPuzzle,ce=function(e){return e.game.game},le=function(e){return e.game.puzzle.length},ue=function(e){return e.game.puzzle[0].length},se=ee.reducer,de=function(){return function(e,t){var n=t().game.puzzle;e(ne(n)),e(R()),e(D(n)),e(_(n)),e(H())}},me=function(e){return e%2},fe=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},pe=Object(l.b)({name:"user",initialState:{clickType:u},reducers:{setClickType:function(e,t){e.clickType=t.payload}}}),ge=pe.actions.setClickType,ve=function(e){return e.user.clickType},he=pe.reducer,be=Object(l.a)({reducer:{user:he,game:se,rows:J,columns:Z,validation:A}}),ye=n(3),we={board:{gridColumn:"2 / 4",gridRow:"2 / 4",boxSizing:"border-box"},boardGrid:{display:"grid",gridGap:"3px",height:"100%"},cell:{boxSizing:"border-box",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Helvetica",fontSize:"1em",fontWeight:"bold"},hitColors:{hit:"#75daad",empty:"#ffc299"}},Ce=function(e){var t=e.iX,n=e.iY,r=e.cell,i=Object(c.c)(ve),o=Object(c.b)();function l(e){e.preventDefault();var a=i;"contextmenu"===e.type&&(a=s);var c,l=r.hitType===a?m:a;o((c={type:l,iX:t,iY:n},function(e){e(re(c)),e(H())}))}return a.a.createElement("div",{onContextMenu:l,onClick:l,style:Object(ye.a)({},we.cell,{backgroundColor:r.color})},r.value)},Ee=function(){var e=Object(c.c)(ce),t=Object(c.c)(le),n=Object(c.c)(ue);return a.a.createElement("div",{style:Object(ye.a)({},we.boardGrid,{gridTemplateColumns:"repeat(".concat(n,", 1fr)"),gridTemplateRows:"repeat(".concat(t,", 1fr)")})},e.map((function(e,t){return e.map((function(e,n){return a.a.createElement(Ce,{cell:e,iX:t,iY:n,key:"".concat(t).concat(n)})}))})))},xe=function(){return a.a.createElement("div",{style:we.board},a.a.createElement(Ee,null))},je={headers:{display:"grid",gridTemplateColumns:"1fr",gridGap:"3px",height:"100%",boxSizing:"border-box"},header:{display:"grid",gridGap:"3px",height:"100%",boxSizing:"border-box"},panel:{display:"flex",alignItems:"center",justifyContent:"center"},rowHeaders:{gridColumn:"1",gridRow:"2 / 4"},columnHeaders:{gridColumn:"2 / 4",gridRow:"1"}},Oe=function(e){var t=e.backgroundColor,n=e.value;return a.a.createElement("div",{style:Object(ye.a)({},je.panel,{backgroundColor:t})},n)},ke=function(e){var t=e.headerValues,n=e.valid,r=e.alignment,i=n||void 0===n?g:v;return 0===t.length?a.a.createElement("div",{style:Object(ye.a)({},je.header,{},r)},a.a.createElement(Oe,{backgroundColor:i})):a.a.createElement("div",{style:Object(ye.a)({},je.header,{},r)},t.map((function(e,t){return a.a.createElement(Oe,{key:t,backgroundColor:i,value:e})})))},ze=function(e){var t=e.alignment,n=e.headersValues,r=e.gridTemplate,i=e.validations;return a.a.createElement("div",{style:Object(ye.a)({},je.headers,{},r)},n.map((function(e,n){return a.a.createElement(ke,{alignment:t,key:n,headerValues:e,valid:i[n]})})))},Te=function(){var e=Object(c.c)(N),t=Object(c.c)(G),n={gridTemplateRows:"repeat(".concat(e.length,", 1fr)")};return a.a.createElement("div",{style:je.rowHeaders},a.a.createElement(ze,{alignment:{gridAutoFlow:"column"},headersValues:e,gridTemplate:n,validations:t}))},Se=function(){var e=Object(c.c)(Q),t=Object(c.c)(I),n={gridTemplateColumns:"repeat(".concat(e.length,", 1fr)")};return a.a.createElement("div",{style:je.columnHeaders},a.a.createElement(ze,{headersValues:e,gridTemplate:n,validations:t}))};function Re(){var e=Object(c.c)(B),t=Object(c.c)(U);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Se,{userAnswer:t}),a.a.createElement(Te,{userAnswer:e}))}var Ve={validationStyle:{gridColumn:"1",gridRow:"1",boxSizing:"border-box",backgroundColor:"#ffd31d"},buttonWrapper:{boxSizing:"border-box",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}};function Ge(){var e=Object(c.b)();return a.a.createElement("div",{style:Ve.validationStyle},a.a.createElement("div",{style:Ve.buttonWrapper},a.a.createElement("button",{onClick:function(){e((function(e){for(var t=[],n=0;n<10;n++){for(var r=[],a=0;a<10;a++){var i=fe(1,10);me(i)?r.push("1"):r.push("0")}t.push(r)}e(oe(t)),e(de())}))}},"New Game?")))}var Ie=n(11),Ae={wrapper:{gridColumn:"1",gridRow:"1",boxSizing:"border-box"},menu:{display:"grid",gridGap:"3px",height:"100%",gridTemplateRows:"repeat(auto, auto)"},item:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",fontWeight:"bold",backgroundColor:"#75daad",lineHeight:"10px"}};function He(){var e=Object(c.b)(),t=Object(r.useState)(u),n=Object(Ie.a)(t,2),i=n[0],o=n[1];function l(t){e(ge(t.currentTarget.id)),o(t.currentTarget.id)}return a.a.createElement("div",{style:Ae.wrapper},a.a.createElement("div",{style:Ae.menu},a.a.createElement("div",{id:u,onClick:l,style:Object(ye.a)({},Ae.item,{backgroundColor:i===u?"#1eb2a6":"#75daad"})}),a.a.createElement("div",{id:s,onClick:l,style:Object(ye.a)({},Ae.item,{backgroundColor:i===s?"#1eb2a6":"#75daad"})},"X"),a.a.createElement("div",{id:d,onClick:l,style:Object(ye.a)({},Ae.item,{backgroundColor:i===d?"#1eb2a6":"#75daad"})},"?")))}function Pe(e){var t=e.setClickType,n=Object(c.c)(V)?a.a.createElement(Ge,null):a.a.createElement(He,{setClickType:t});return a.a.createElement(a.a.Fragment,null,n)}var Me={display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridTtemplateRows:"repeat(3, 1fr)",gridGap:"3px",width:"100vw",height:"calc(100vh)"},We=function(){return a.a.createElement("div",{style:Me},a.a.createElement(Pe,null),a.a.createElement(Re,null),a.a.createElement(xe,null))},Xe=function(){return Object(c.b)()(de()),a.a.createElement(We,null)};o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(c.a,{store:be},a.a.createElement(Xe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.cd71d298.chunk.js.map